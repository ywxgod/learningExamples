!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("axios"),require("lodash")):"function"==typeof define&&define.amd?define(["axios","lodash"],t):"object"==typeof exports?exports.mec=t(require("axios"),require("lodash")):e.mec=t(e.axios,e._)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.BaseCommand=function(){function e(){r(this,e)}return o(e,[{key:"execute",value:function(){}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EventBus=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5);(t.EventBus=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,null,[{key:"getInstance",value:function(){return null===t._instance&&(t._instance=new t),t._instance}}]),t}(u.EventDispatcher))._instance=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=(n.n(r),n(4)),a=(n.n(o),n(1)),i=(n.n(a),n(6)),u=(n.n(i),n(7)),c=(n.n(u),n(8)),s=(n.n(c),n(0));n.n(s);n.o(r,"baseController")&&n.d(t,"baseController",function(){return r.baseController}),n.o(o,"event")&&n.d(t,"event",function(){return o.event}),n.o(a,"EventBus")&&n.d(t,"EventBus",function(){return a.EventBus}),n.o(i,"BaseMode")&&n.d(t,"BaseMode",function(){return i.BaseMode}),n.o(u,"AjaxCommand")&&n.d(t,"AjaxCommand",function(){return u.AjaxCommand}),n.o(c,"AjaxService")&&n.d(t,"AjaxService",function(){return c.AjaxService}),n.o(s,"BaseCommand")&&n.d(t,"BaseCommand",function(){return s.BaseCommand})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseController=void 0;var r=n(0);t.baseController={methods:{executeCommand:function(e){if(e&&"function"==typeof e){if(!(e.prototype instanceof r.BaseCommand))throw new Error("Expectes CmdClass as a BaseCommand class.");for(var t=new e,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return t.execute.apply(t,o)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.event=void 0;var r=n(1),o=r.EventBus.getInstance();t.event={data:function(){return{$eIds:[]}},methods:{emit:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))},on:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=o.on.apply(o,[e].concat(n));return this.$data.$eIds.push(a),a},off:function(e){return o.off(e)},hasEvent:function(e){return this.evtBus.hasEvent(e)}},beforeDestroy:function(){this.$data.$eIds.forEach(function(e){this.evtBus.off(e)},this),this.$data.$eIds=[]}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();(t.EventDispatcher=function(){function e(){o(this,e),this._evts={}}return a(e,[{key:"on",value:function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if("function"!=typeof n)throw new Error("expects handler as a function.");var i=e._eId++;return this._evts[i]={type:t,handler:n,data:o},i}},{key:"off",value:function(e){return!!e&&(!!this._evts[e]&&(this._evts[e]=null,delete this._evts[e]))}},{key:"emit",value:function(e){for(var t=this._getEventInfosByType(e),n=t.length,o=arguments.length,a=Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];for(var u=0;u<n;u++){var c=t[u],s=c.handler,f=c.data,l=[].concat(r(f),a);s.apply(void 0,r(l))}}},{key:"hasEvent",value:function(e){return!!this._getEventInfosByType(e).length}},{key:"_getEventInfosByType",value:function(e){var t=[];for(var n in this._evts)if(this._evts.hasOwnProperty(n)){var r=this._evts[n].type;r===e&&t.push(this._evts[n])}return t.sort(function(e,t){return e.eId-t.eId})}}]),e}())._eId=Date.now()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.BaseModel=function e(){r(this,e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxCommand=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0);t.AjaxCommand=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._successCb=e&&e.success,n._failCb=e&&e.fail,n._context=e&&e.context,n}return a(t,e),i(t,[{key:"success",value:function(e,t){this._successCb&&this._successCb(e,t)}},{key:"fail",value:function(e){this._failCb&&this._failCb(e),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}}]),t}(u.BaseCommand)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxService=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(9),s=n(10),f=r(s),l=n(11),p=r(l),d=["get","post","delete","put"];t.AjaxService=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._axios=f.create(p.cloneDeep(t.defaults)),e}return i(t,e),u(t,null,[{key:"defaults",get:function(){return{timeout:3e4,baseURL:"http://localhost:3000"}}}]),u(t,[{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{data:{},params:{}};if(!~d.indexOf(n))throw new Error("invalid method "+n);var o={data:r.data,params:r.params};return this._axios[n](e,o).then(function(e){t.cmd.success.call(t.cmd,e.data,e)}).catch(function(e){t.cmd.fail.call(t.cmd,e)})}}]),t}(c.BaseService)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.BaseService=function(){function e(t){r(this,e),this._cmd=t}return o(e,[{key:"send",value:function(){}},{key:"cmd",get:function(){return this._cmd}}]),e}()},function(t,n){t.exports=e},function(e,n){e.exports=t}])});
//# sourceMappingURL=vue-mec.js.map